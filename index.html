<!DOCTYPE html>
<html>
  <head>
  <title>Candy Shop</title>    
  <link rel="stylesheet" href="candy-shop.css">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-debug.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/postal.js/2.0.5/postal.min.js" type="text/javascript"></script>
  <script src="lodash-template-adapter.js" type="text/javascript"></script>
  <script type="text/template" id="">

  </script>
  <script type="text/template" id="tmpl-cart">
    <div id="candy-shop">
      <h1 data-bind="text: title"></h1>
      <h3>Products</h3>
      <ul>
        <li data-bind="foreach: products">
          <h3 data-bind="text: title"></h3>
          <span data-bind="text: title"></span>
          <button type="button" data-bind="click: $parent.onAtbClick">Add to bag</button>
        </li>
      </ul>
      <hr>
      <h3>Shopping Bag</h3>
      <p data-bind="visible: bag().length === 0">You have no items in your bag.</p>
      <ul>
        <li data-bind="foreach: bag">
          <h3 data-bind="text: title"></h3>
          <button type="button" data-bind="click: $parent.removeItem">-</button>
          <span> Quantity <span data-bind="text: quantity"></span> </span>
          <button type="button" data-bind="click: $parent.addItem">+</button>
      </ul>
      <hr>
      <div data-bind="visible: bag().length > 0">
        <h3>Current Cost</h3>
        <div>
          <b>subtotal:</b> <var data-bind="text: subtotal"></var>
        </div>
        <div>
          <b>tax:</b> <var data-bind="text: tax"></var>
        </div>
        <div>
          <b>total:</b> <var data-bind="text: total"></var>
        </div>
      </div>
    </div>
  </script>
  </head>
  <body>
    <div id="app">
      <cart />
    </div>
    <script type="text/javascript" src="candy-shop.js"></script>
  </body>
</html>
